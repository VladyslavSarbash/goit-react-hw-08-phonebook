{"version":3,"sources":["components/Redux/Contact/contact-operation.js","components/Redux/Contact/contact-reducer.js","components/Redux/Filter/filter-action.js","components/Redux/Filter/filter-reducer.js","components/Redux/Loader/loader-reducer.js","components/Redux/RegisterAndLogin/RegAndLog-selector.js","components/Redux/RegisterAndLogin/RegAndLog-operation.js","components/Redux/RegisterAndLogin/RegAndLog-reducer.js","components/Redux/store.js","components/Router/Homepage/Homepage.js","components/Redux/Contact/contacts-selectors.js","components/Router/Contacts/ContactList/ContactList.js","components/Loader/loader.js","components/Router/Contacts/Filter/filter.js","components/Router/Contacts/ContactForm/СontactForm.js","components/Router/Contacts/Contacts.js","components/Router/UserMenu/UserMenu.js","components/Router/Navigation/Navigation.js","components/Router/PageNotFound/PageNotFound.js","components/Router/Login/Login.js","components/Router/Register/Register.js","components/Router/PrivateAndPublic/PrivateRoute.js","components/Router/PrivateAndPublic/PublicRoute.js","App.js","index.js","components/Router/Navigation/Navigation.module.css","components/Router/UserMenu/UserMenu.module.css"],"names":["getContacts","createAsyncThunk","a","axios","get","data","addContact","contact","post","deleteContact","id","delete","contactsReducer","createReducer","fulfilled","_","action","payload","state","filter","i","filterAction","createAction","filterReducer","loaderReducer","pending","rejected","userOnLogin","user","onLogin","userName","auth","name","userToken","token","fetchCurrentUser","defaults","baseURL","headers","common","Authorization","newUserRegister","userLogin","userLogout","currentUser","thunkAPI","getState","persistedToken","rejectWithValue","initialState","email","RegAndLogReducer","persistConfig","key","storage","whitelist","contactReducer","combineReducers","items","loader","rootReducer","contacts","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","Homepage","getAllContacts","filterValue","getLoader","filterContacts","createSelector","lowerValue","toLowerCase","includes","connect","dispatch","type","color","height","width","timeout","length","map","number","className","onClick","target","value","pattern","onChange","useState","setState","useEffect","newContact","formInput","reset","onSubmit","e","preventDefault","find","alert","placeholder","title","required","Contacts","useSelector","UserMenu","nameUser","useDispatch","s","Navigation","Header","exact","to","NavLink","activeClassName","activeNavLink","RegAndLog","PageNotFound","Login","logUser","password","Register","newUser","PrivateRoute","children","routeProps","PublicRoute","restricted","redirectTo","shoudRestricted","App","isFetchcurrentUser","path","component","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.64b0124a.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nconst getContacts = createAsyncThunk('getContacts', async () => {\r\n  const { data } = await axios.get('/contacts');\r\n  return data;\r\n});\r\n\r\nconst addContact = createAsyncThunk('addContact', async contact => {\r\n  await axios.post('/contacts', contact);\r\n  return contact;\r\n});\r\n\r\nconst deleteContact = createAsyncThunk('deleteContact', async id => {\r\n  axios.delete(`/contacts/${id}`);\r\n  return id;\r\n});\r\n\r\nexport { addContact, deleteContact, getContacts };\r\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport { getContacts, addContact, deleteContact } from './contact-operation';\r\n\r\nconst contactsReducer = createReducer([], {\r\n  [getContacts.fulfilled]: (_, action) => action.payload,\r\n  [addContact.fulfilled]: (state, action) => [action.payload, ...state],\r\n  [deleteContact.fulfilled]: (state, action) =>\r\n    state.filter(i => i.id !== action.payload),\r\n});\r\n\r\nexport default contactsReducer;\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const filterAction = createAction('filter');\r\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport { filterAction } from './filter-action';\r\n\r\nconst filterReducer = createReducer('', {\r\n  [filterAction]: (_, action) => action.payload,\r\n});\r\n\r\nexport default filterReducer;\r\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  addContact,\r\n  deleteContact,\r\n  getContacts,\r\n} from '../Contact/contact-operation';\r\n// import {\r\n//   contactAddSuccess,\r\n//   contactAddRequest,\r\n//   contactAddError,\r\n//   getContactsSuccess,\r\n//   getContactsRequest,\r\n//   getContactsError,\r\n//   contactDeleteSuccess,\r\n//   contactDeleteRequest,\r\n//   contactDeleteError,\r\n// } from '../Contact/contact-action';\r\n\r\nexport const loaderReducer = createReducer(false, {\r\n  [addContact.pending]: () => true,\r\n  [addContact.fulfilled]: () => false,\r\n  [addContact.rejected]: () => false,\r\n  [getContacts.pending]: () => true,\r\n  [getContacts.fulfilled]: () => false,\r\n  [getContacts.rejected]: () => false,\r\n  [deleteContact.pending]: () => true,\r\n  [deleteContact.fulfilled]: () => false,\r\n  [deleteContact.rejected]: () => false,\r\n});\r\n\r\n// export const loaderReducer = createReducer(false, {\r\n//   [contactAddRequest]: () => true,\r\n//   [contactAddSuccess]: () => false,\r\n//   [contactAddError]: () => false,\r\n//   [getContactsRequest]: () => true,\r\n//   [getContactsSuccess]: () => false,\r\n//   [getContactsError]: () => false,\r\n//     [contactDeleteRequest]: () => true,\r\n//     [contactDeleteSuccess]: () => false,\r\n//     [contactDeleteError]: () => false,\r\n// });\r\n","export const userOnLogin = state => state.user.onLogin;\r\nexport const userName = state => state.user.auth.name;\r\nexport const userToken = state => state.user.token;\r\nexport const fetchCurrentUser = state => state.user.fetchCurrentUser;\r\n","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { userToken } from './RegAndLog-selector';\r\n\r\nconst BASE_URL = 'https://connections-api.herokuapp.com';\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nexport const newUserRegister = createAsyncThunk('user/new', async user => {\r\n  const { data } = await axios.post('/users/signup', user);\r\n  token.set(data.token);\r\n  return data;\r\n});\r\n\r\nexport const userLogin = createAsyncThunk('user/login', async user => {\r\n  const { data } = await axios.post('/users/login', user);\r\n  token.set(data.token);\r\n  return data;\r\n});\r\n\r\nexport const userLogout = createAsyncThunk('user/logout', async () => {\r\n  await axios.post('/users/logout');\r\n  token.unset();\r\n});\r\n\r\nexport const currentUser = createAsyncThunk(\r\n  `user/current`,\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = userToken(state);\r\n\r\n    if (!persistedToken) return thunkAPI.rejectWithValue();\r\n\r\n    token.set(persistedToken);\r\n\r\n    try {\r\n      const { data } = await axios.get('/users/current');\r\n      return data;\r\n    } catch (error) {}\r\n  },\r\n);\r\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  userLogin,\r\n  userLogout,\r\n  newUserRegister,\r\n  currentUser,\r\n} from './RegAndLog-operation';\r\n\r\nexport const initialState = {\r\n  auth: { name: null, email: null },\r\n  token: null,\r\n  onLogin: false,\r\n  fetchCurrentUser: false,\r\n};\r\n\r\nexport const RegAndLogReducer = createReducer(initialState, {\r\n  [newUserRegister.fulfilled]: (state, { payload }) => ({\r\n    ...state,\r\n    auth: payload.user,\r\n    token: payload.token,\r\n    onLogin: true,\r\n  }),\r\n  [userLogin.fulfilled]: (state, { payload }) => ({\r\n    ...state,\r\n    auth: payload.user,\r\n    token: payload.token,\r\n    onLogin: true,\r\n  }),\r\n  [currentUser.pending]: state => {\r\n    state.fetchCurrentUser = true;\r\n  },\r\n  [currentUser.fulfilled]: (state, { payload }) => ({\r\n    ...state,\r\n    auth: payload,\r\n    onLogin: true,\r\n    fetchCurrentUser: false,\r\n  }),\r\n  [currentUser.rejected]: state => {\r\n    state.fetchCurrentUser = false;\r\n  },\r\n  [userLogout.fulfilled]: () => initialState,\r\n});\r\n","import { configureStore, combineReducers } from '@reduxjs/toolkit';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport contactsReducer from './Contact/contact-reducer';\r\nimport filterReducer from './Filter/filter-reducer';\r\nimport { loaderReducer } from './Loader/loader-reducer';\r\nimport { RegAndLogReducer } from './RegisterAndLogin/RegAndLog-reducer';\r\n\r\nconst persistConfig = {\r\n  key: 'user',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst contactReducer = combineReducers({\r\n  items: contactsReducer,\r\n  filter: filterReducer,\r\n  loader: loaderReducer,\r\n});\r\n\r\nconst rootReducer = combineReducers({\r\n  contacts: contactReducer,\r\n  user: persistReducer(persistConfig, RegAndLogReducer),\r\n});\r\n\r\nexport const store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware: getDefaultMiddleware =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n      },\r\n    }),\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","export const Homepage = () => {\r\n  return <h1>Добро пожаловать! :)</h1>;\r\n};\r\n","import { createSelector } from 'reselect';\r\n\r\nexport const getAllContacts = state => state.contacts.items;\r\nexport const filterValue = state => state.contacts.filter;\r\nexport const getLoader = state => state.contacts.loader;\r\n\r\nexport const filterContacts = createSelector(\r\n  [getAllContacts, filterValue],\r\n  (contacts, filter) => {\r\n    const lowerValue = filter.toLowerCase();\r\n    return contacts.filter(({ name }) => {\r\n      return name.toLowerCase().includes(lowerValue);\r\n    });\r\n  },\r\n);\r\n","import PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { deleteContact } from '../../../Redux/Contact/contact-operation';\r\nimport inLoader from '../../../Loader/loader';\r\nimport {\r\n  filterContacts,\r\n  getLoader,\r\n} from '../../../Redux/Contact/contacts-selectors';\r\n\r\nfunction RenderContactList({ contacts, deleteContact, loader }) {\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {loader ? (\r\n          inLoader()\r\n        ) : contacts.length === 0 ? (\r\n          <h2>No contacts</h2>\r\n        ) : (\r\n          contacts.map(({ id, name, number }) => {\r\n            return (\r\n              <li key={id}>\r\n                {name}: {number}\r\n                <button\r\n                  className=\"item-list\"\r\n                  id={id}\r\n                  type=\"button\"\r\n                  onClick={() => deleteContact(id)}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </li>\r\n            );\r\n          })\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst stateProp = state => ({\r\n  contacts: filterContacts(state),\r\n  loader: getLoader(state),\r\n});\r\n\r\nconst deleteDispatch = dispatch => ({\r\n  deleteContact: id => dispatch(deleteContact(id)),\r\n});\r\n\r\nexport default connect(stateProp, deleteDispatch)(RenderContactList);\r\n\r\nRenderContactList.propTypes = {\r\n  contacts: PropTypes.arrayOf(PropTypes.object),\r\n  filter: PropTypes.string,\r\n};\r\n","import Loader from 'react-loader-spinner';\r\n\r\nexport default function inLoader() {\r\n  return (\r\n    <Loader\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000} //3 secs\r\n    />\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { filterAction } from '../../../Redux/Filter/filter-action';\r\nimport { filterValue } from '../../../Redux/Contact/contacts-selectors';\r\n\r\nfunction Filter({ filterValue, filter }) {\r\n  return (\r\n    <label>\r\n      Find contacts by name\r\n      <input\r\n        type=\"text\"\r\n        name=\"filter\"\r\n        value={filter}\r\n        pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n        onChange={filterValue}\r\n      />\r\n    </label>\r\n  );\r\n}\r\n\r\nconst stateProp = state => ({\r\n  filter: filterValue(state),\r\n});\r\n\r\nconst filterDispatch = dispatch => ({\r\n  filterValue: ({ target }) => dispatch(filterAction(target.value)),\r\n});\r\n\r\nexport default connect(stateProp, filterDispatch)(Filter);\r\n\r\nFilter.propTypes = {\r\n  filterInput: PropTypes.func,\r\n  Filter: PropTypes.string,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  addContact,\r\n  getContacts,\r\n} from '../../../Redux/Contact/contact-operation';\r\nimport { getAllContacts } from '../../../Redux/Contact/contacts-selectors';\r\n\r\nfunction ContactForm({ contacts, addContact, getContacts }) {\r\n  const [state, setState] = useState({\r\n    name: '',\r\n    number: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    getContacts();\r\n  }, [getContacts]);\r\n\r\n  const checkContact = () => {\r\n    contacts.find(({ name }) => {\r\n      return name === state.name;\r\n    })\r\n      ? alert(`${state.name} is already in contacts.`)\r\n      : newContact();\r\n  };\r\n\r\n  const newContact = () => {\r\n    const { name, number } = state;\r\n    const newObj = { name, number };\r\n\r\n    addContact(newObj);\r\n  };\r\n\r\n  const formInput = ({ target }) => {\r\n    const { name, value } = target;\r\n    setState({ ...state, [name]: value });\r\n  };\r\n\r\n  const formSubmit = e => {\r\n    e.preventDefault();\r\n    checkContact();\r\n    reset();\r\n  };\r\n\r\n  const reset = () => {\r\n    setState({ name: '', number: '' });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h1>Phonebook</h1>\r\n      <form onSubmit={formSubmit}>\r\n        <label>\r\n          Name\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={state.name}\r\n            placeholder=\"Kris Evans\"\r\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n            required\r\n            onChange={formInput}\r\n          />\r\n        </label>\r\n        <label>\r\n          Number\r\n          <input\r\n            type=\"tel\"\r\n            name=\"number\"\r\n            value={state.number}\r\n            placeholder=\"555-55-55\"\r\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n            required\r\n            onChange={formInput}\r\n          />\r\n        </label>\r\n        <button className=\"submit_form\" type=\"submit\">\r\n          Add contact\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nconst stateProps = state => ({\r\n  contacts: getAllContacts(state),\r\n});\r\n\r\nconst newContactDispatch = dispatch => ({\r\n  addContact: contact => dispatch(addContact(contact)),\r\n  getContacts: () => dispatch(getContacts()),\r\n});\r\n\r\nexport default connect(stateProps, newContactDispatch)(ContactForm);\r\n\r\nContactForm.propTypes = {\r\n  contacts: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n","import { useSelector } from 'react-redux';\r\nimport { userOnLogin } from '../../Redux/RegisterAndLogin/RegAndLog-selector';\r\nimport RenderContactList from './ContactList/ContactList';\r\nimport Filter from './Filter/filter';\r\nimport ContactForm from './ContactForm/СontactForm';\r\n\r\nexport const Contacts = () => {\r\n  const onLogin = useSelector(userOnLogin);\r\n  return (\r\n    <>\r\n      {onLogin && (\r\n        <>\r\n          <ContactForm />\r\n          <Filter />\r\n          <RenderContactList />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { useSelector, useDispatch } from 'react-redux';\r\nimport { userName } from '../../Redux/RegisterAndLogin/RegAndLog-selector';\r\nimport s from './UserMenu.module.css';\r\nimport { userLogout } from '../../Redux/RegisterAndLogin/RegAndLog-operation';\r\n\r\nexport const UserMenu = () => {\r\n  const nameUser = useSelector(userName);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className={s.userLogout}>\r\n      <p>Добро пожаловать, {nameUser}!</p>\r\n      <button type=\"button\" onClick={() => dispatch(userLogout())}>\r\n        Выход\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import { useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { userOnLogin } from '../../Redux/RegisterAndLogin/RegAndLog-selector';\r\nimport s from './Navigation.module.css';\r\nimport { UserMenu } from '../UserMenu/UserMenu';\r\n\r\nexport const Navigation = () => {\r\n  const onLogin = useSelector(state => userOnLogin(state));\r\n\r\n  return (\r\n    <>\r\n      <div className={s.Header}>\r\n        <div className={s.Navigation}>\r\n          <NavLink\r\n            exact\r\n            to=\"/\"\r\n            className={s.NavLink}\r\n            activeClassName={s.activeNavLink}\r\n          >\r\n            Главная\r\n          </NavLink>\r\n          {onLogin && (\r\n            <NavLink\r\n              to=\"/contacts\"\r\n              className={s.NavLink}\r\n              activeClassName={s.activeNavLink}\r\n            >\r\n              Контакты\r\n            </NavLink>\r\n          )}\r\n        </div>\r\n\r\n        {onLogin ? (\r\n          <UserMenu />\r\n        ) : (\r\n          <div className={s.RegAndLog}>\r\n            <NavLink\r\n              to=\"/register\"\r\n              className={s.NavLink}\r\n              activeClassName={s.activeNavLink}\r\n            >\r\n              Регистация\r\n            </NavLink>\r\n            <NavLink\r\n              to=\"/login\"\r\n              className={s.NavLink}\r\n              activeClassName={s.activeNavLink}\r\n            >\r\n              Войти\r\n            </NavLink>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","export const PageNotFound = () => {\r\n  return <h1>Page Not Found:</h1>;\r\n};\r\n","import { useDispatch } from 'react-redux';\r\nimport { userLogin } from '../../Redux/RegisterAndLogin/RegAndLog-operation';\r\n\r\nexport const Login = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const logUser = {\r\n      email: e.target[0].value,\r\n      password: e.target[1].value,\r\n    };\r\n\r\n    dispatch(userLogin(logUser));\r\n\r\n    e.target[0].value = '';\r\n    e.target[1].value = '';\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <label>\r\n        Email\r\n        <input type=\"text\" />\r\n      </label>\r\n      <label>\r\n        Password\r\n        <input type=\"text\" />\r\n      </label>\r\n      <button type=\"submit\">Вход</button>\r\n    </form>\r\n  );\r\n};\r\n","import { useDispatch } from 'react-redux';\r\nimport { newUserRegister } from '../../Redux/RegisterAndLogin/RegAndLog-operation';\r\n\r\nexport const Register = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const newUser = {\r\n      name: e.target[0].value,\r\n      email: e.target[1].value,\r\n      password: e.target[2].value,\r\n    };\r\n\r\n    dispatch(newUserRegister(newUser));\r\n\r\n    e.target[0].value = '';\r\n    e.target[1].value = '';\r\n    e.target[2].value = '';\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <label>\r\n        Name\r\n        <input type=\"text\" />\r\n      </label>\r\n      <label>\r\n        Email\r\n        <input type=\"text\" />\r\n      </label>\r\n      <label>\r\n        Password\r\n        <input type=\"text\" />\r\n      </label>\r\n      <button type=\"submit\">Регистрация</button>\r\n    </form>\r\n  );\r\n};\r\n","import { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { userOnLogin } from '../../Redux/RegisterAndLogin/RegAndLog-selector';\r\n\r\nexport const PrivateRoute = ({ children, ...routeProps }) => {\r\n  const onLogin = useSelector(userOnLogin);\r\n\r\n  return (\r\n    <Route {...routeProps}>\r\n      {onLogin ? children : <Redirect to=\"/login\" />}\r\n    </Route>\r\n  );\r\n};\r\n","import { Route, Redirect } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { useSelector } from 'react-redux';\r\nimport { userOnLogin } from '../../Redux/RegisterAndLogin/RegAndLog-selector';\r\n\r\nexport const PublicRoute = ({\r\n  children,\r\n  restricted = false,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) => {\r\n  const onLogin = useSelector(userOnLogin);\r\n  const shoudRestricted = onLogin && restricted;\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shoudRestricted ? <Redirect to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n};\r\n","import './App.css';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Homepage } from './components/Router/Homepage/Homepage';\r\nimport { Contacts } from './components/Router/Contacts/Contacts';\r\nimport { Navigation } from './components/Router/Navigation/Navigation';\r\nimport { PageNotFound } from './components/Router/PageNotFound/PageNotFound';\r\nimport { Login } from './components/Router/Login/Login';\r\nimport { Register } from './components/Router/Register/Register';\r\nimport { currentUser } from './components/Redux/RegisterAndLogin/RegAndLog-operation';\r\nimport { PrivateRoute } from './components/Router/PrivateAndPublic/PrivateRoute';\r\nimport { PublicRoute } from './components/Router/PrivateAndPublic/PublicRoute';\r\nimport { fetchCurrentUser } from './components/Redux/RegisterAndLogin/RegAndLog-selector';\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const isFetchcurrentUser = useSelector(fetchCurrentUser);\r\n\r\n  useEffect(() => {\r\n    dispatch(currentUser());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <section>\r\n      {!isFetchcurrentUser && (\r\n        <>\r\n          <div className=\"navigation\">\r\n            <Navigation />\r\n          </div>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Homepage}></Route>\r\n            <PrivateRoute path=\"/contacts\">\r\n              <Contacts />\r\n            </PrivateRoute>\r\n            <PublicRoute path=\"/register\" redirectTo=\"/contacts\" restricted>\r\n              <Register />\r\n            </PublicRoute>\r\n            <PublicRoute path=\"/login\" redirectTo=\"/contacts\" restricted>\r\n              <Login />\r\n            </PublicRoute>\r\n            <Route component={PageNotFound}></Route>\r\n          </Switch>\r\n        </>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { PersistGate } from 'redux-persist/lib/integration/react';\r\nimport { store, persistor } from './components/Redux/store';\r\nimport '../node_modules/normalize.css/normalize.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loader={null} persistor={persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Navigation_Header__1yWv-\",\"Navigation\":\"Navigation_Navigation__2anrm\",\"NavLink\":\"Navigation_NavLink__1xzmw\",\"RegAndLog\":\"Navigation_RegAndLog__JGgQt\",\"activeNavLink\":\"Navigation_activeNavLink__2-2eo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userLogout\":\"UserMenu_userLogout__28rDH\"};"],"sourceRoot":""}